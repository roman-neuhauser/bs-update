.\" This document is in the public domain.
.\" vim: fdm=marker
.
.\" FRONT MATTER {{{
.Dd Jul 16, 2012
.Os
.Dt BS-UPDATE 1
.
.Sh NAME
.Nm bs-update
.Nd Automate maintenance of packages in a Build Service.
.\" FRONT MATTER }}}
.
.\" SYNOPSIS {{{
.Sh SYNOPSIS
.Nm
.Fl h
.Nm
.Op Fl A Ar BSAPI
.Op Fl P Ar PROJECT
.Op Fl p Ar PACKAGE
.Op Fl t Ar URL
.Ar TAG
.\" SYNOPSIS }}}
.
.\" DESCRIPTION {{{
.Sh DESCRIPTION
.Nm
automates maintenance of packages in a Build Service.
.
.Bl -tag -width "xx"
.It Fl h
Display a usage description.
.
.It Fl A Ar BSAPI
.Pq Va $bs_apiurl
Use Build Service at
.Ar BSAPI
(URL or alias).
.
.It Fl P Ar PROJECT
.Pq Va $bs_project
Update Build Service package of
.Ar PROJECT .
.
.It Fl p Ar PACKAGE
.Pq Va $package
Update Build Service
.Ar PACKAGE .
.
.It Fl t Ar URL
.Pq Va $dloadurl
Download the source tarball from
.Ar URL .
.
.It Ar TAG
Update the package from
.Ar TAG .
.El
.Pp
Option arguments are subjected to shell expansion.
.
.\" DESCRIPTION }}}
.\" .Sh IMPLEMENTATION NOTES
.\" ENVIRONMENT {{{
.Sh ENVIRONMENT
.Nm
itself does not use any environment variables.
It is, however, implemented in terms of third-party commands
which
.Em do
use them.
This means
.Nm
may be influenced by environment variables used by
.Xr sh 1 ,
.Xr osc 1 ,
.Xr tar 1 ,
.Xr curl 1 or Xr wget 1 ,
possibly others.
.\" ENVIRONMENT }}}
.\" FILES {{{
.Sh FILES
.Bl -tag -width "xx"
.It Pa .bs-update
If this file exists it is sourced by
.Nm
before processing command line arguments.
The following table lists command line options and their
respective
.Pa .bs-update
variables:
.
.Pp
. Bl -tag -compact
. It Fl A
.Va bs_apiurl
. It Fl P
.Va bs_project
. It Fl t
.Va dloadurl
. El
.El
.\" FILES }}}
.\" EXAMPLES {{{
.Sh EXAMPLES
.Bd -literal
git clone git@github.com:roman-neuhauser/rnt.git
cd rnt
printf "%s='%s'\\n" \\
  package rnt \\
  dloadurl 'https://github.com/roman-neuhauser/$package/tarball/$tag' \\
  > .bs-update
vim GNUmakefile
git commit -a
git tag -a v42.69
git push origin master v42.69
bs-update -P home:roman-neuhauser v42.69
.Ed
.\" EXAMPLES }}}
.\" DIAGNOSTICS {{{
.Sh DIAGNOSTICS
.Nm
exits with
.Li 0
on success, and with
.Li >0
otherwise.
.\" DIAGNOSTICS }}}
.\" .Sh COMPATIBILITY
.\" SEE ALSO {{{
.Sh SEE ALSO
.Xr git 1 ,
the openSUSE Build Service
.Aq https://build.opensuse.org/ ,
and its wiki
.Aq http://en.opensuse.org/Portal:Build_Service .
.\" SEE ALSO }}}
.\" .Sh STANDARDS
.\" .Sh HISTORY
.\" AUTHORS {{{
.Sh AUTHORS
.
.Nm
and this manual page are written by
.Aq neuhauser@sigpipe.cz .
.Pp
See
.Aq https://github.com/roman-neuhauser/bs-update/ .
.\" AUTHORS }}}
.\" BUGS {{{
.Sh BUGS
No doubt plentiful.
Please report them at
.Aq https://github.com/roman-neuhauser/bs-update/issues .
.\" BUGS }}}
