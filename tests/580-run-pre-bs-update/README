verify bs-update's actions: run pre-package script

this test asserts bs-update's behavior in the case where
there is a pre-package script that needs to be run before
creating the new tarball

this is done by replacing all commands used in the CUT with
cooked functions, these write their invocations to a "tape"
which is then compared with a canonical "tape".
